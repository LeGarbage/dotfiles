#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

alias ls='ls --color=auto'
alias grep='grep --color=auto'
alias vim='nvim'
alias :q='exit'

# Safety aliases
alias rm='rm -I'
alias mv='mv -i'
alias cp='cp -i'
alias ln='ln -i'

# Use nvim as manpager
export MANPAGER="nvim +Man!"

export HISTCONTROL=ignoreboth

# List of commands to ignore in history
HISTIGNORE_COMMANDS=(
    "clear"
    "ls"
    "history"
    "[bf]g"
    "exit"
    ":q"
    "* --help"
    "* -h"
)

# Also ignore the ignored commands with a trailing space
for item in "${HISTIGNORE_COMMANDS[@]}"; do
    HISTIGNORE+="$item:"
    HISTIGNORE+="$item :"
done

HISTIGNORE="${HISTIGNORE%:}"
export HISTIGNORE

# Options
shopt -s autocd
shopt -s cdspell
shopt -s globstar

# Use vim motions
set -o vi

# Enable direnv
[ -x "$(command -v direnv)" ] && eval "$(direnv hook bash)"

# Enable starship
[ -x "$(command -v starship)" ] && eval "$(starship init bash)"

HM_SESSION_VARS_PATH="/etc/profiles/per-user/$USER/etc/profile.d/hm-session-vars.sh"
[ -x "$HM_SESSION_VARS_PATH" ] && . "$HM_SESSION_VARS_PATH"
